
@{
    ViewBag.Title = "Analytics";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<!-- [ breadcrumb ] start -->
<div class="page-header card">
    <div class="row align-items-end">
        <div class="col-lg-8">
            <div class="page-header-title">
                <i class="feather icon-home bg-c-blue"></i>
                <div class="d-inline">
                    <h5>Dashboard</h5>
                    <span>Get the system data summary here</span>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="page-header-breadcrumb">
                <ul class=" breadcrumb breadcrumb-title">
                    <li class="breadcrumb-item">
                        <a href="index-2.html"><i class="feather icon-home"></i></a>
                    </li>
                    <li class="breadcrumb-item"><a href="#!">Dashboard</a> </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- [ breadcrumb ] end -->
<div class="pcoded-inner-content">
    <div class="main-body">
        <div class="page-wrapper">
            <div class="page-body">
                <!-- [ page content ] start -->
                <div class="row">

                    <!-- product profit start -->
                    <div class="col-xl-3 col-md-6">
                        <div class="card prod-p-card card-red">
                            <div class="card-body">
                                <div class="row align-items-center m-b-30">
                                    <div class="col">
                                        <h6 class="m-b-5 text-white">Total Roles</h6>
                                        <h3 class="m-b-0 f-w-700 text-white">@ViewBag.RoleCount</h3>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-tags text-c-red f-18"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card prod-p-card card-blue">
                            <div class="card-body">
                                <div class="row align-items-center m-b-30">
                                    <div class="col">
                                        <h6 class="m-b-5 text-white">Total Users</h6>
                                        <h3 class="m-b-0 f-w-700 text-white">@ViewBag.UserCount</h3>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-user-circle text-c-blue f-18"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card prod-p-card card-green">
                            <div class="card-body">
                                <div class="row align-items-center m-b-30">
                                    <div class="col">
                                        <h6 class="m-b-5 text-white">Total Vaccancy</h6>
                                        <h3 class="m-b-0 f-w-700 text-white">@ViewBag.VaccancyCount</h3>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-bookmark text-c-green f-18"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card prod-p-card card-yellow">
                            <div class="card-body">
                                <div class="row align-items-center m-b-30">
                                    <div class="col">
                                        <h6 class="m-b-5 text-white">Total Applicants</h6>
                                        <h3 class="m-b-0 f-w-700 text-white">@ViewBag.ApplicantCount</h3>
                                    </div>
                                    <div class="col-auto">
                                        <i class="fas fa-user text-c-yellow f-18"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- product profit end -->

                        <div class="col-sm-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Newly Registered Applicants</h5>
                                    <div class="card-header-right">
                                        <ul class="list-unstyled card-option">
                                            <li class="first-opt"><i class="feather icon-chevron-left open-card-option"></i></li>
                                            <li><i class="feather icon-maximize full-card"></i></li>
                                            <li><i class="feather icon-minus minimize-card"></i></li>
                                            <li><i class="feather icon-trash close-card"></i></li>
                                            <li><i class="feather icon-chevron-left open-card-option"></i></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="card-block">

                                    <div class="table-responsive dt-responsive">
                                        <table id="row-callback" class="table table-striped table-bordered nowrap">
                                            <thead>
                                                <tr>
                                                    <th>Photo</th>
                                                    <th>Name</th>
                                                    <th>Gender</th>
                                                    <th>Email</th>
                                                    <th>Job Request</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @if (ViewBag.NewApplicants.Count > 0)
                                                {
                                                    foreach (var row in ViewBag.NewApplicants)
                                                    {
                                                        string PhotoBase64 = Convert.ToBase64String(row.Photo);
                                                        string PhotoSrc = string.Format("data:image/gif;base64,{0}", PhotoBase64);
                                                        <tr>
                                                            <td><img src="@PhotoSrc" style="width:50px;height:50px" /></td>
                                                            <td>@row.Surname @row.Firstname @row.Lastname</td>
                                                            <td>@row.Gender</td>
                                                            <td>@row.EmailAddress</td>
                                                            <td>@row.PhoneNumber</td>
                                                        </tr>
                                                    }
                                                }
                                                else
                                                {
                                                    <tr>
                                                        <td colspan="5" class="text-center"> No new applicants for today yet</td>
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- [ page content ] end -->
            </div>
        </div>
    </div>
